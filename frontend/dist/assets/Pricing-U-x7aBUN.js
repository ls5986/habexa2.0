import{y as j,r as m,_ as G,j as t,A as M,J as w,E as R,aD as T,v as _,z,x as B,g as I,n as N,B as k,o as P,T as x,d as L,h as i,C as U,a as E,f as F,a3 as D,a4 as Y,a5 as A,k as K}from"./index-k5Kw9esk.js";import{s as O,u as q,F as H}from"./FormControlLabel-Cc05KKlD.js";import{S as J,L as Q}from"./Switch-DH5IL7N9.js";import{G as $,S as V}from"./star-Cds_sxDG.js";import{C as X}from"./check-DpebV8yH.js";import"./SwitchBase-ClNa8SuG.js";const Z=["className","component","disableGutters","fixed","maxWidth","classes"],ee=T(),te=O("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,o)=>{const{ownerState:c}=n;return[o.root,o[`maxWidth${w(String(c.maxWidth))}`],c.fixed&&o.fixed,c.disableGutters&&o.disableGutters]}}),re=n=>q({props:n,name:"MuiContainer",defaultTheme:ee}),se=(n,o)=>{const c=l=>_(o,l),{classes:b,fixed:d,disableGutters:y,maxWidth:r}=n,s={root:["root",r&&`maxWidth${w(String(r))}`,d&&"fixed",y&&"disableGutters"]};return R(s,c,b)};function oe(n={}){const{createStyledComponent:o=te,useThemeProps:c=re,componentName:b="MuiContainer"}=n,d=o(({theme:r,ownerState:s})=>j({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!s.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}}),({theme:r,ownerState:s})=>s.fixed&&Object.keys(r.breakpoints.values).reduce((l,u)=>{const h=u,p=r.breakpoints.values[h];return p!==0&&(l[r.breakpoints.up(h)]={maxWidth:`${p}${r.breakpoints.unit}`}),l},{}),({theme:r,ownerState:s})=>j({},s.maxWidth==="xs"&&{[r.breakpoints.up("xs")]:{maxWidth:Math.max(r.breakpoints.values.xs,444)}},s.maxWidth&&s.maxWidth!=="xs"&&{[r.breakpoints.up(s.maxWidth)]:{maxWidth:`${r.breakpoints.values[s.maxWidth]}${r.breakpoints.unit}`}}));return m.forwardRef(function(s,l){const u=c(s),{className:h,component:p="div",disableGutters:W=!1,fixed:g=!1,maxWidth:e="lg"}=u,a=G(u,Z),f=j({},u,{component:p,disableGutters:W,fixed:g,maxWidth:e}),S=se(f,b);return t.jsx(d,j({as:p,ownerState:f,className:M(S.root,h),ref:l},a))})}const ae=oe({createStyledComponent:z("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,o)=>{const{ownerState:c}=n;return[o.root,o[`maxWidth${w(String(c.maxWidth))}`],c.fixed&&o.fixed,c.disableGutters&&o.disableGutters]}}),useThemeProps:n=>B({props:n,name:"MuiContainer"})}),pe=()=>{const[n,o]=m.useState([]),[c,b]=m.useState(!0),[d,y]=m.useState(!1),[r,s]=m.useState(null),{subscription:l,createCheckout:u}=I();m.useEffect(()=>{h()},[]);const h=async()=>{try{const e=await N.get("/billing/plans");o(e.data.plans)}catch(e){console.error("Failed to fetch plans:",e)}finally{b(!1)}},p=async e=>{s(e.tier);try{const a=d?e.price_keys.yearly:e.price_keys.monthly;await u(a)}catch(a){console.error("Checkout failed:",a)}finally{s(null)}},W=(e,a)=>typeof a=="boolean"?{text:g(e),included:a}:a===-1?{text:`Unlimited ${g(e)}`,included:!0}:{text:`${a} ${g(e)}`,included:!0},g=e=>e.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase());return c?t.jsx(k,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:t.jsx(P,{})}):t.jsxs(ae,{maxWidth:"lg",sx:{py:8},children:[t.jsxs(k,{textAlign:"center",mb:6,children:[t.jsx(x,{variant:"h3",fontWeight:700,gutterBottom:!0,children:"Choose Your Plan"}),t.jsx(x,{variant:"h6",color:"text.secondary",mb:3,children:"Start with a 14-day free trial. No credit card required."}),t.jsx(H,{control:t.jsx(J,{checked:d,onChange:e=>y(e.target.checked),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:i.purple.main},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:i.purple.main}}}),label:t.jsxs(x,{children:["Yearly ",t.jsx(L,{label:"Save 17%",size:"small",sx:{ml:1,backgroundColor:i.success.light,color:i.success.main}})]})})]}),t.jsx($,{container:!0,spacing:4,children:n.map(e=>{const a=d?e.yearly_price:e.monthly_price,f=(l==null?void 0:l.tier)===e.tier,S=Object.entries(e.features).map(([C,v])=>W(C,v));return t.jsx($,{item:!0,xs:12,md:4,children:t.jsxs(U,{sx:{height:"100%",position:"relative",border:e.popular?`2px solid ${i.purple.main}`:"1px solid",borderColor:e.popular?i.purple.main:"divider",boxShadow:e.popular?"0 8px 24px rgba(124, 106, 250, 0.2)":"none"},children:[e.popular&&t.jsx(L,{icon:t.jsx(V,{size:16}),label:"Most Popular",sx:{position:"absolute",top:16,right:16,backgroundColor:i.purple.main,color:"white",fontWeight:600}}),t.jsxs(E,{sx:{p:4},children:[t.jsx(x,{variant:"h5",fontWeight:700,mb:1,children:e.name}),t.jsx(x,{variant:"body2",color:"text.secondary",mb:3,children:e.description}),t.jsxs(k,{mb:3,children:[t.jsx(x,{variant:"h3",fontWeight:700,component:"span",children:F(a)}),t.jsxs(x,{variant:"body2",color:"text.secondary",component:"span",children:["/",d?"year":"month"]})]}),t.jsx(D,{sx:{mb:3},children:S.map((C,v)=>t.jsxs(Y,{sx:{px:0},children:[t.jsx(Q,{sx:{minWidth:32},children:C.included?t.jsx(X,{size:20,style:{color:i.success.main}}):t.jsx(k,{sx:{width:20,height:20,borderRadius:"50%",border:`2px solid ${i.gray[300]}`}})}),t.jsx(A,{primary:C.text,primaryTypographyProps:{color:C.included?"text.primary":"text.disabled"}})]},v))}),t.jsx(K,{fullWidth:!0,variant:e.popular?"contained":"outlined",onClick:()=>p(e),disabled:f||r===e.tier,sx:{backgroundColor:e.popular?i.purple.main:"transparent",borderColor:i.purple.main,color:e.popular?"white":i.purple.main,"&:hover":{backgroundColor:e.popular?i.purple.dark:i.purple.lighter},py:1.5},children:r===e.tier?t.jsx(P,{size:20}):f?"Current Plan":"Get Started"})]})]})},e.tier)})})]})};export{pe as default};
