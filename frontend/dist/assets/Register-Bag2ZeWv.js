import{r as a,m as P,i as _,u as q,ap as A,j as e,B as b,h as s,C as F,b as N,T as n,q as o,a as T}from"./index-DJeRhYJi.js";import{L as B}from"./Link-BVpZ780j.js";const H=()=>{const[l,f]=a.useState(""),[i,j]=a.useState(""),[c,v]=a.useState(""),[u,d]=a.useState(""),[h,m]=a.useState(!1),{signUp:C}=P(),{createCheckout:S}=_(),x=q(),[p]=A(),g=p.get("trial"),r=p.get("plan"),k=async t=>{t.preventDefault(),d(""),m(!0);try{if(await C(l,i,c),g==="true"||r){const w=r&&{starter:"starter_monthly",pro:"pro_monthly",agency:"agency_monthly"}[r]||"starter_monthly",W=g==="true"||!r;try{await S(w,W)}catch(E){console.error("Checkout error:",E),x("/dashboard")}}else x("/dashboard")}catch(y){d(y.message||"Failed to create account")}finally{m(!1)}};return e.jsx(b,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s.navy.dark},children:e.jsx(F,{sx:{width:"100%",maxWidth:400},children:e.jsxs(N,{sx:{p:4},children:[e.jsx(b,{sx:{display:"flex",justifyContent:"center",mb:3},children:e.jsx("img",{src:"/logos/fulllogo@300x.png",alt:"Habexa",style:{height:48,maxWidth:"100%"}})}),e.jsx(n,{variant:"body2",color:"text.secondary",mb:4,textAlign:"center",children:"Create your account"}),u&&e.jsx(n,{color:"error",variant:"body2",mb:2,children:u}),e.jsxs("form",{onSubmit:k,children:[e.jsx(o,{fullWidth:!0,label:"Full Name",value:c,onChange:t=>v(t.target.value),required:!0,sx:{mb:2}}),e.jsx(o,{fullWidth:!0,label:"Email",type:"email",value:l,onChange:t=>f(t.target.value),required:!0,sx:{mb:2}}),e.jsx(o,{fullWidth:!0,label:"Password",type:"password",autoComplete:"new-password",value:i,onChange:t=>j(t.target.value),required:!0,sx:{mb:3}}),e.jsx(T,{type:"submit",fullWidth:!0,variant:"contained",disabled:h,sx:{backgroundColor:s.purple.main,"&:hover":{backgroundColor:s.purple.dark},mb:2},children:h?"Creating account...":"Sign Up"})]}),e.jsxs(n,{variant:"body2",textAlign:"center",children:["Already have an account?"," ",e.jsx(B,{href:"/login",sx:{color:s.purple.main,fontWeight:600},children:"Sign in"})]})]})})})};export{H as default};
