import{N as C,u as T,M as w,r as c,o as I,j as e,B as t,p as O,a as p,C as i,T as s,b as d,d as S,f as h,h as W}from"./index-CWAbI_84.js";import{A as u}from"./arrow-left-C4isCC_C.js";import{T as _}from"./TableContainer-BC0z2uG0.js";import{T as B,b as f,c as n,a as k}from"./TableRow-C7FEYZNH.js";import{T as D}from"./TableHead-Bru9ptGY.js";const z=()=>{var j;const{id:o}=C(),l=T(),{showToast:m}=w(),[r,y]=c.useState(null),[b,x]=c.useState(!0);c.useEffect(()=>{o&&g()},[o]);const g=async()=>{try{x(!0);const a=await I.get(`/orders/${o}`);y(a.data)}catch(a){console.error("Failed to fetch order:",a),m("Failed to load order details","error"),l("/orders")}finally{x(!1)}},v=a=>({pending:"warning",confirmed:"info",shipped:"primary",received:"success",cancelled:"error"})[a]||"default";return b?e.jsx(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:e.jsx(O,{})}):r?e.jsxs(t,{sx:{p:3},children:[e.jsx(p,{startIcon:e.jsx(u,{size:16}),onClick:()=>l("/orders"),sx:{mb:3},children:"Back to Orders"}),e.jsx(s,{variant:"h4",fontWeight:700,mb:3,children:"Order Details"}),e.jsx(i,{sx:{mb:3},children:e.jsxs(d,{children:[e.jsxs(t,{display:"flex",justifyContent:"space-between",alignItems:"start",mb:3,children:[e.jsxs(t,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",mb:1,children:"Order ID"}),e.jsx(s,{variant:"body1",fontFamily:"monospace",children:r.id})]}),e.jsx(S,{label:r.status||"pending",color:v(r.status),sx:{fontWeight:600}})]}),e.jsxs(t,{display:"flex",gap:4,flexWrap:"wrap",children:[e.jsxs(t,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",mb:1,children:"Date"}),e.jsx(s,{variant:"body1",children:new Date(r.created_at).toLocaleString()})]}),r.supplier_id&&e.jsxs(t,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",mb:1,children:"Supplier"}),e.jsx(s,{variant:"body1",children:((j=r.suppliers)==null?void 0:j.name)||"Unknown"})]})]})]})}),e.jsx(i,{sx:{mb:3},children:e.jsxs(d,{children:[e.jsx(s,{variant:"h6",fontWeight:600,mb:2,children:"Items"}),e.jsx(_,{children:e.jsxs(B,{children:[e.jsx(D,{children:e.jsxs(f,{children:[e.jsx(n,{children:"ASIN"}),e.jsx(n,{align:"right",children:"Quantity"}),e.jsx(n,{align:"right",children:"Unit Cost"}),e.jsx(n,{align:"right",children:"Subtotal"})]})}),e.jsx(k,{children:e.jsxs(f,{children:[e.jsx(n,{children:e.jsx(s,{variant:"body2",fontFamily:"monospace",children:r.asin})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"body2",children:r.quantity})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"body2",children:h(r.unit_cost||0)})}),e.jsx(n,{align:"right",children:e.jsx(s,{variant:"body2",fontWeight:600,children:h(r.total_cost||r.unit_cost*r.quantity)})})]})})]})})]})}),e.jsx(i,{children:e.jsxs(d,{children:[e.jsxs(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(s,{variant:"h6",fontWeight:600,children:"Total"}),e.jsx(s,{variant:"h5",fontWeight:700,color:W.purple.main,children:h(r.total_cost||r.unit_cost*r.quantity)})]}),r.notes&&e.jsxs(t,{mt:3,children:[e.jsx(s,{variant:"body2",color:"text.secondary",mb:1,children:"Notes"}),e.jsx(s,{variant:"body2",children:r.notes})]})]})})]}):e.jsxs(t,{sx:{p:3},children:[e.jsx(p,{startIcon:e.jsx(u,{size:16}),onClick:()=>l("/orders"),sx:{mb:3},children:"Back to Orders"}),e.jsx(i,{sx:{p:4,textAlign:"center"},children:e.jsx(s,{variant:"h6",color:"error",children:"Order not found"})})]})};export{z as default};
