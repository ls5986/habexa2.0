import{r as n,u as g,ab as b,o as v,j as s,B as i,p as C,T as a,C as d,P as T,a as h,h as x,f as B,d as k,I as w}from"./index-DDnPEUpM.js";import{T as O,a as S}from"./TableHead-DfNS3it-.js";import{T as E,b as j,c as r,a as I}from"./TableRow-DKpnzsGP.js";import{E as P}from"./external-link-C0U1Th68.js";const A=()=>{const[o,u]=n.useState([]),[p,l]=n.useState(!0),t=g(),{showToast:m}=b();n.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const e=await v.get("/orders?limit=100");u(e.data||[])}catch(e){console.error("Failed to fetch orders:",e),m("Failed to load orders","error")}finally{l(!1)}},f=e=>({pending:"warning",confirmed:"info",shipped:"primary",received:"success",cancelled:"error"})[e]||"default";return p?s.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:s.jsx(C,{})}):o.length===0?s.jsxs(i,{sx:{p:3},children:[s.jsx(a,{variant:"h4",fontWeight:700,mb:3,children:"Orders"}),s.jsxs(d,{sx:{p:4,textAlign:"center"},children:[s.jsx(T,{size:48,style:{color:"#8B8B9B",margin:"0 auto 16px"}}),s.jsx(a,{variant:"h6",sx:{mb:1},children:"No orders yet"}),s.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Create your first order from the buy list or products page"}),s.jsx(h,{variant:"contained",onClick:()=>t("/buy-list"),sx:{backgroundColor:x.purple.main,"&:hover":{backgroundColor:x.purple.dark},mr:2},children:"View Buy List"}),s.jsx(h,{variant:"outlined",onClick:()=>t("/products"),children:"Browse Products"})]})]}):s.jsxs(i,{sx:{p:3},children:[s.jsx(a,{variant:"h4",fontWeight:700,mb:3,children:"Orders"}),s.jsx(d,{children:s.jsx(O,{children:s.jsxs(E,{children:[s.jsx(S,{children:s.jsxs(j,{children:[s.jsx(r,{children:"Order ID"}),s.jsx(r,{children:"Date"}),s.jsx(r,{children:"ASIN"}),s.jsx(r,{children:"Quantity"}),s.jsx(r,{children:"Total"}),s.jsx(r,{children:"Status"}),s.jsx(r,{children:"Actions"})]})}),s.jsx(I,{children:o.map(e=>s.jsxs(j,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:()=>t(`/orders/${e.id}`),children:[s.jsx(r,{children:s.jsxs(a,{variant:"body2",fontFamily:"monospace",children:[e.id.slice(0,8),"..."]})}),s.jsx(r,{children:s.jsx(a,{variant:"body2",children:new Date(e.created_at).toLocaleDateString()})}),s.jsx(r,{children:s.jsx(a,{variant:"body2",fontFamily:"monospace",children:e.asin})}),s.jsx(r,{children:s.jsx(a,{variant:"body2",children:e.quantity})}),s.jsx(r,{children:s.jsx(a,{variant:"body2",fontWeight:600,children:B(e.total_cost||e.unit_cost*e.quantity)})}),s.jsx(r,{children:s.jsx(k,{label:e.status||"pending",color:f(e.status),size:"small"})}),s.jsx(r,{children:s.jsx(w,{size:"small",onClick:c=>{c.stopPropagation(),t(`/orders/${e.id}`)},children:s.jsx(P,{size:16})})})]},e.id))})]})})})]})};export{A as default};
