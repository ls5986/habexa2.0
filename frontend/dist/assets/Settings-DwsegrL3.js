import{r as o,v as K,w as Q,x as X,_ as Z,y as _,j as e,z as D,A as G,E as ee,a2 as qe,am as st,J as oe,an as ot,ao as rt,ah as be,c as le,n as R,ap as Ge,aa as Ae,C as Y,a as q,o as ne,B as y,T as j,d as re,Q as pe,k as A,h as H,aq as lt,i as it,p as V,U as ct,a3 as Ne,a4 as Ie,a5 as Fe,ar as dt,L as De,I as pt,W as Je,X as Ke,Y as Qe,D as ut,g as ht,u as xt,M as gt,f as mt}from"./index-k5Kw9esk.js";import{C as Re}from"./check-circle-EArlU3J7.js";import{M as me}from"./message-circle-CX7mwmcc.js";import{P as ft,D as Xe}from"./plus-DyeIM8kK.js";import{L as We,S as ze}from"./Switch-DH5IL7N9.js";import{F as ye}from"./FormControlLabel-Cc05KKlD.js";import{C as yt}from"./Checkbox-C5OmVhOp.js";import{T as bt,a as de}from"./Tabs-BXHcFz71.js";import{S as Ee}from"./Slider-CNQx6YMq.js";import{E as vt}from"./external-link-_GANzbDM.js";import"./SwitchBase-ClNa8SuG.js";const ve=o.createContext({}),Pe=o.createContext({});function jt(t){return K("MuiStep",t)}Q("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Ct=["active","children","className","component","completed","disabled","expanded","index","last"],St=t=>{const{classes:a,orientation:n,alternativeLabel:r,completed:i}=t;return ee({root:["root",n,r&&"alternativeLabel",i&&"completed"]},jt,a)},_t=D("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.orientation],n.alternativeLabel&&a.alternativeLabel,n.completed&&a.completed]}})(({ownerState:t})=>_({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),kt=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiStep"}),{active:i,children:d,className:u,component:p="div",completed:g,disabled:m,expanded:x=!1,index:f,last:w}=r,S=Z(r,Ct),{activeStep:l,connector:k,alternativeLabel:h,orientation:v,nonLinear:M}=o.useContext(ve);let[C=!1,W=!1,T=!1]=[i,g,m];l===f?C=i!==void 0?i:!0:!M&&l>f?W=g!==void 0?g:!0:!M&&l<f&&(T=m!==void 0?m:!0);const E=o.useMemo(()=>({index:f,last:w,expanded:x,icon:f+1,active:C,completed:W,disabled:T}),[f,w,x,C,W,T]),U=_({},r,{active:C,orientation:v,alternativeLabel:h,completed:W,disabled:T,expanded:x,component:p}),F=St(U),I=e.jsxs(_t,_({as:p,className:G(F.root,u),ref:n,ownerState:U},S,{children:[k&&h&&f!==0?k:null,d]}));return e.jsx(Pe.Provider,{value:E,children:k&&!h&&f!==0?e.jsxs(o.Fragment,{children:[k,I]}):I})}),wt=qe(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Lt=qe(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function zt(t){return K("MuiStepIcon",t)}const Me=Q("MuiStepIcon",["root","active","completed","error","text"]);var Ue;const Mt=["active","className","completed","error","icon"],Tt=t=>{const{classes:a,active:n,completed:r,error:i}=t;return ee({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},zt,a)},Te=D(st,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,a)=>a.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${Me.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${Me.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${Me.error}`]:{color:(t.vars||t).palette.error.main}})),Rt=D("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,a)=>a.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),At=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiStepIcon"}),{active:i=!1,className:d,completed:u=!1,error:p=!1,icon:g}=r,m=Z(r,Mt),x=_({},r,{active:i,completed:u,error:p}),f=Tt(x);if(typeof g=="number"||typeof g=="string"){const w=G(d,f.root);return p?e.jsx(Te,_({as:Lt,className:w,ref:n,ownerState:x},m)):u?e.jsx(Te,_({as:wt,className:w,ref:n,ownerState:x},m)):e.jsxs(Te,_({className:w,ref:n,ownerState:x},m,{children:[Ue||(Ue=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(Rt,{className:f.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:x,children:g})]}))}return g});function Pt(t){return K("MuiStepLabel",t)}const se=Q("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),$t=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Nt=t=>{const{classes:a,orientation:n,active:r,completed:i,error:d,disabled:u,alternativeLabel:p}=t;return ee({root:["root",n,d&&"error",u&&"disabled",p&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",d&&"error",u&&"disabled",p&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",d&&"error",u&&"disabled",p&&"alternativeLabel"],labelContainer:["labelContainer",p&&"alternativeLabel"]},Pt,a)},It=D("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.orientation]]}})(({ownerState:t})=>_({display:"flex",alignItems:"center",[`&.${se.alternativeLabel}`]:{flexDirection:"column"},[`&.${se.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Ft=D("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,a)=>a.label})(({theme:t})=>_({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${se.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${se.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${se.alternativeLabel}`]:{marginTop:16},[`&.${se.error}`]:{color:(t.vars||t).palette.error.main}})),Dt=D("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,a)=>a.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${se.alternativeLabel}`]:{paddingRight:0}})),Wt=D("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,a)=>a.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${se.alternativeLabel}`]:{textAlign:"center"}})),Ze=o.forwardRef(function(a,n){var r;const i=X({props:a,name:"MuiStepLabel"}),{children:d,className:u,componentsProps:p={},error:g=!1,icon:m,optional:x,slotProps:f={},StepIconComponent:w,StepIconProps:S}=i,l=Z(i,$t),{alternativeLabel:k,orientation:h}=o.useContext(ve),{active:v,disabled:M,completed:C,icon:W}=o.useContext(Pe),T=m||W;let E=w;T&&!E&&(E=At);const U=_({},i,{active:v,alternativeLabel:k,completed:C,disabled:M,error:g,orientation:h}),F=Nt(U),I=(r=f.label)!=null?r:p.label;return e.jsxs(It,_({className:G(F.root,u),ref:n,ownerState:U},l,{children:[T||E?e.jsx(Dt,{className:F.iconContainer,ownerState:U,children:e.jsx(E,_({completed:C,active:v,error:g,icon:T},S))}):null,e.jsxs(Wt,{className:F.labelContainer,ownerState:U,children:[d?e.jsx(Ft,_({ownerState:U},I,{className:G(F.label,I==null?void 0:I.className),children:d})):null,x]})]}))});Ze.muiName="StepLabel";function Et(t){return K("MuiStepConnector",t)}Q("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Ut=["className"],Bt=t=>{const{classes:a,orientation:n,alternativeLabel:r,active:i,completed:d,disabled:u}=t,p={root:["root",n,r&&"alternativeLabel",i&&"active",d&&"completed",u&&"disabled"],line:["line",`line${oe(n)}`]};return ee(p,Et,a)},Ht=D("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.orientation],n.alternativeLabel&&a.alternativeLabel,n.completed&&a.completed]}})(({ownerState:t})=>_({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Vt=D("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.line,a[`line${oe(n.orientation)}`]]}})(({ownerState:t,theme:a})=>{const n=a.palette.mode==="light"?a.palette.grey[400]:a.palette.grey[600];return _({display:"block",borderColor:a.vars?a.vars.palette.StepConnector.border:n},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Ot=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiStepConnector"}),{className:i}=r,d=Z(r,Ut),{alternativeLabel:u,orientation:p="horizontal"}=o.useContext(ve),{active:g,disabled:m,completed:x}=o.useContext(Pe),f=_({},r,{alternativeLabel:u,orientation:p,active:g,completed:x,disabled:m}),w=Bt(f);return e.jsx(Ht,_({className:G(w.root,i),ref:n,ownerState:f},d,{children:e.jsx(Vt,{className:w.line,ownerState:f})}))});function Yt(t){return K("MuiStepper",t)}Q("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const qt=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Gt=t=>{const{orientation:a,nonLinear:n,alternativeLabel:r,classes:i}=t;return ee({root:["root",a,n&&"nonLinear",r&&"alternativeLabel"]},Yt,i)},Jt=D("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.orientation],n.alternativeLabel&&a.alternativeLabel,n.nonLinear&&a.nonLinear]}})(({ownerState:t})=>_({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),Kt=e.jsx(Ot,{}),Qt=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:d=!1,children:u,className:p,component:g="div",connector:m=Kt,nonLinear:x=!1,orientation:f="horizontal"}=r,w=Z(r,qt),S=_({},r,{nonLinear:x,alternativeLabel:d,orientation:f,component:g}),l=Gt(S),k=o.Children.toArray(u).filter(Boolean),h=k.map((M,C)=>o.cloneElement(M,_({index:C,last:C+1===k.length},M.props))),v=o.useMemo(()=>({activeStep:i,alternativeLabel:d,connector:m,nonLinear:x,orientation:f}),[i,d,m,x,f]);return e.jsx(ve.Provider,{value:v,children:e.jsx(Jt,_({as:g,ownerState:S,className:G(l.root,p),ref:n},w,{children:h}))})}),et=o.createContext();function Xt(t){return K("MuiTable",t)}Q("MuiTable",["root","stickyHeader"]);const Zt=["className","component","padding","size","stickyHeader"],ea=t=>{const{classes:a,stickyHeader:n}=t;return ee({root:["root",n&&"stickyHeader"]},Xt,a)},ta=D("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,n.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>_({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":_({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},a.stickyHeader&&{borderCollapse:"separate"})),Be="table",aa=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiTable"}),{className:i,component:d=Be,padding:u="normal",size:p="medium",stickyHeader:g=!1}=r,m=Z(r,Zt),x=_({},r,{component:d,padding:u,size:p,stickyHeader:g}),f=ea(x),w=o.useMemo(()=>({padding:u,size:p,stickyHeader:g}),[u,p,g]);return e.jsx(et.Provider,{value:w,children:e.jsx(ta,_({as:d,role:d===Be?null:"table",ref:n,className:G(f.root,i),ownerState:x},m))})}),$e=o.createContext();function na(t){return K("MuiTableBody",t)}Q("MuiTableBody",["root"]);const sa=["className","component"],oa=t=>{const{classes:a}=t;return ee({root:["root"]},na,a)},ra=D("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,a)=>a.root})({display:"table-row-group"}),la={variant:"body"},He="tbody",ia=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiTableBody"}),{className:i,component:d=He}=r,u=Z(r,sa),p=_({},r,{component:d}),g=oa(p);return e.jsx($e.Provider,{value:la,children:e.jsx(ra,_({className:G(g.root,i),as:d,ref:n,role:d===He?null:"rowgroup",ownerState:p},u))})});function ca(t){return K("MuiTableCell",t)}const da=Q("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),pa=["align","className","component","padding","scope","size","sortDirection","variant"],ua=t=>{const{classes:a,variant:n,align:r,padding:i,size:d,stickyHeader:u}=t,p={root:["root",n,u&&"stickyHeader",r!=="inherit"&&`align${oe(r)}`,i!=="normal"&&`padding${oe(i)}`,`size${oe(d)}`]};return ee(p,ca,a)},ha=D("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,a[n.variant],a[`size${oe(n.size)}`],n.padding!=="normal"&&a[`padding${oe(n.padding)}`],n.align!=="inherit"&&a[`align${oe(n.align)}`],n.stickyHeader&&a.stickyHeader]}})(({theme:t,ownerState:a})=>_({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?ot(be(t.palette.divider,1),.88):rt(be(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},a.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},a.variant==="body"&&{color:(t.vars||t).palette.text.primary},a.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},a.size==="small"&&{padding:"6px 16px",[`&.${da.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},a.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},a.padding==="none"&&{padding:0},a.align==="left"&&{textAlign:"left"},a.align==="center"&&{textAlign:"center"},a.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},a.align==="justify"&&{textAlign:"justify"},a.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),fe=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiTableCell"}),{align:i="inherit",className:d,component:u,padding:p,scope:g,size:m,sortDirection:x,variant:f}=r,w=Z(r,pa),S=o.useContext(et),l=o.useContext($e),k=l&&l.variant==="head";let h;u?h=u:h=k?"th":"td";let v=g;h==="td"?v=void 0:!v&&k&&(v="col");const M=f||l&&l.variant,C=_({},r,{align:i,component:h,padding:p||(S&&S.padding?S.padding:"normal"),size:m||(S&&S.size?S.size:"medium"),sortDirection:x,stickyHeader:M==="head"&&S&&S.stickyHeader,variant:M}),W=ua(C);let T=null;return x&&(T=x==="asc"?"ascending":"descending"),e.jsx(ha,_({as:h,ref:n,className:G(W.root,d),"aria-sort":T,scope:v,ownerState:C},w))});function xa(t){return K("MuiTableRow",t)}const Ve=Q("MuiTableRow",["root","selected","hover","head","footer"]),ga=["className","component","hover","selected"],ma=t=>{const{classes:a,selected:n,hover:r,head:i,footer:d}=t;return ee({root:["root",n&&"selected",r&&"hover",i&&"head",d&&"footer"]},xa,a)},fa=D("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:n}=t;return[a.root,n.head&&a.head,n.footer&&a.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ve.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ve.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:be(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:be(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),Oe="tr",ya=o.forwardRef(function(a,n){const r=X({props:a,name:"MuiTableRow"}),{className:i,component:d=Oe,hover:u=!1,selected:p=!1}=r,g=Z(r,ga),m=o.useContext($e),x=_({},r,{component:d,hover:u,selected:p,head:m&&m.variant==="head",footer:m&&m.variant==="footer"}),f=ma(x);return e.jsx(fa,_({as:d,ref:n,className:G(f.root,i),role:d===Oe?null:"row",ownerState:x},g))});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=le("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),_a=()=>{const[t,a]=o.useState(null),[n,r]=o.useState(null),[i,d]=o.useState(null),[u,p]=o.useState(!0),[g,m]=o.useState(null),x=async()=>{try{const h=await R.get("/settings/profile");a(h.data)}catch(h){m(h.message)}},f=async()=>{try{const h=await R.get("/settings/alerts");r(h.data)}catch(h){m(h.message)}},w=async()=>{try{const h=await R.get("/settings/costs");d(h.data)}catch(h){m(h.message)}};return o.useEffect(()=>{(async()=>{p(!0),await Promise.all([x(),f(),w()]),p(!1)})()},[]),{profile:t,alertSettings:n,costSettings:i,loading:u,error:g,refetch:async()=>{await Promise.all([x(),f(),w()])},updateProfile:async h=>{var v,M;try{const C=await R.put("/settings/profile",h);return a(C.data),C.data}catch(C){throw new Error(((M=(v=C.response)==null?void 0:v.data)==null?void 0:M.detail)||"Failed to update profile")}},updateAlertSettings:async h=>{var v,M;try{const C=await R.put("/settings/alerts",h);return r(C.data),C.data}catch(C){throw new Error(((M=(v=C.response)==null?void 0:v.data)==null?void 0:M.detail)||"Failed to update alert settings")}},updateCostSettings:async h=>{var v,M;try{const C=await R.put("/settings/costs",h);return d(C.data),C.data}catch(C){throw new Error(((M=(v=C.response)==null?void 0:v.data)==null?void 0:M.detail)||"Failed to update cost settings")}}}};function ka(){const[t,a]=Ge(),[n,r]=o.useState(null),[i,d]=o.useState(!0),[u,p]=o.useState(!1),[g,m]=o.useState(null),{showToast:x}=Ae();o.useEffect(()=>{if(f(),t.get("amazon_connected")==="true"&&(m({type:"success",text:"Amazon connected successfully!"}),x("Amazon account connected successfully!","success"),t.delete("amazon_connected"),a(t,{replace:!0}),f()),t.get("amazon_error")){const l=t.get("amazon_error");m({type:"error",text:l}),x(`Connection failed: ${l}`,"error"),t.delete("amazon_error"),a(t,{replace:!0})}},[]);const f=async()=>{try{const l=await R.get("/integrations/amazon/connection");r(l.data)}catch(l){console.error("Failed to fetch connection:",l),r({connected:!1})}finally{d(!1)}},w=async()=>{var l,k;p(!0);try{const h=await R.get("/integrations/amazon/oauth/authorize");window.location.href=h.data.authorization_url}catch(h){const v=((k=(l=h.response)==null?void 0:l.data)==null?void 0:k.detail)||"Failed to start connection";m({type:"error",text:v}),x(v,"error"),p(!1)}},S=async()=>{var l,k;if(confirm("Disconnect your Amazon account? You will need to reconnect to check gating status and get accurate fees."))try{await R.delete("/integrations/amazon/disconnect"),r({connected:!1}),m({type:"success",text:"Disconnected successfully"}),x("Amazon account disconnected","success"),f()}catch(h){const v=((k=(l=h.response)==null?void 0:l.data)==null?void 0:k.detail)||"Failed to disconnect";m({type:"error",text:v}),x(v,"error")}};return i?e.jsx(Y,{children:e.jsx(q,{sx:{textAlign:"center",py:4},children:e.jsx(ne,{})})}):e.jsx(Y,{children:e.jsxs(q,{children:[e.jsxs(y,{display:"flex",alignItems:"center",gap:2,mb:2,children:[e.jsx(Ye,{size:32,style:{color:"#FF9900"}}),e.jsxs(y,{flex:1,children:[e.jsx(j,{variant:"h6",fontWeight:600,children:"Amazon Seller Account"}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Connect to check YOUR gating status and fees"})]}),(n==null?void 0:n.connected)&&e.jsx(re,{icon:e.jsx(Re,{size:16}),label:"Connected",color:"success"})]}),g&&e.jsx(pe,{severity:g.type,sx:{mb:2},onClose:()=>m(null),children:g.text}),n!=null&&n.connected?e.jsxs(y,{children:[e.jsxs(y,{mb:2,children:[e.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.jsx("strong",{children:"Seller ID:"})," ",n.seller_id||"Not available"]}),e.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.jsx("strong",{children:"Marketplace:"})," ",n.marketplace_id||"US"]}),n.connected_at&&e.jsxs(j,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.jsx("strong",{children:"Connected:"})," ",new Date(n.connected_at).toLocaleDateString()]}),n.last_used_at&&e.jsxs(j,{variant:"body2",color:"text.secondary",children:[e.jsx("strong",{children:"Last used:"})," ",new Date(n.last_used_at).toLocaleString()]})]}),e.jsx(A,{variant:"outlined",color:"error",startIcon:e.jsx(tt,{size:18}),onClick:S,children:"Disconnect"})]}):e.jsxs(y,{children:[e.jsx(pe,{severity:"info",sx:{mb:2},children:"Connect your Amazon Seller account to see YOUR eligibility status on products. Each user connects their own account and sees their own gating status."}),e.jsx(A,{variant:"contained",size:"large",startIcon:u?e.jsx(ne,{size:20,color:"inherit"}):e.jsx(Ye,{size:20}),onClick:w,disabled:u,sx:{bgcolor:"#FF9900","&:hover":{bgcolor:"#E88B00"},color:"#000"},children:u?"Connecting...":"Connect Amazon"})]}),!(n!=null&&n.connected)&&e.jsxs(y,{sx:{mt:3,p:2,bgcolor:H.gray[50],borderRadius:2,border:"1px solid",borderColor:H.gray[200]},children:[e.jsx(j,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"ðŸ”“ Why Connect?"}),e.jsxs(y,{component:"ul",sx:{m:0,pl:2.5},children:[e.jsx("li",{children:e.jsxs(j,{variant:"body2",children:[e.jsx("strong",{children:"Real gating checks"})," â€” Know if YOU can list a product, not just estimates"]})}),e.jsx("li",{children:e.jsxs(j,{variant:"body2",children:[e.jsx("strong",{children:"Accurate FBA fees"})," â€” Get exact fees from Amazon for your account"]})}),e.jsx("li",{children:e.jsxs(j,{variant:"body2",children:[e.jsx("strong",{children:"Better analysis"})," â€” More accurate profit calculations based on your account"]})})]})]})]})})}const wa=["Enter Phone","Verify Code","Connected"],La=()=>{const t=lt(),[a,n]=o.useState(null),[r,i]=o.useState(!0),[d,u]=o.useState(0),[p,g]=o.useState(""),[m,x]=o.useState(""),[f,w]=o.useState(""),[S,l]=o.useState(!1),[k,h]=o.useState(!1),[v,M]=o.useState([]),[C,W]=o.useState([]),[T,E]=o.useState(!1),[U,F]=o.useState(!1),[I,J]=o.useState({}),[P,te]=o.useState(null),[b,N]=o.useState({createSupplier:!0,supplierName:"",supplierWebsite:"",supplierEmail:"",supplierNotes:""}),{showToast:L}=Ae(),{getLimit:ce,isLimitReached:ue}=it();o.useEffect(()=>{ae()},[]);const ae=async()=>{try{const s=await R.get("/integrations/telegram/status");n(s.data),s.data.connected&&ie()}catch(s){console.error("Failed to fetch Telegram status:",s)}finally{i(!1)}},ie=async()=>{try{const s=await R.get("/integrations/telegram/channels");M(s.data.channels||[])}catch(s){console.error("Failed to fetch channels:",s)}},je=async()=>{var s,z;if(!p.trim()){L("Please enter your phone number","error");return}h(!0);try{const $=await R.post("/integrations/telegram/auth/start",{phone_number:p});L("Verification code sent to your Telegram app","success"),u(1)}catch($){L(((z=(s=$.response)==null?void 0:s.data)==null?void 0:z.detail)||"Failed to send code","error")}finally{h(!1)}},Ce=async()=>{var s,z;if(!m.trim()){L("Please enter the verification code","error");return}h(!0);try{const $=await R.post("/integrations/telegram/auth/verify",{code:m,password:S?f:void 0});$.data.status==="2fa_required"?(l(!0),L("Please enter your 2FA password","warning")):$.data.status==="connected"&&(L("Telegram connected successfully!","success"),u(2),ae())}catch($){L(((z=(s=$.response)==null?void 0:s.data)==null?void 0:z.detail)||"Verification failed","error")}finally{h(!1)}},Se=async()=>{if(confirm("Disconnect Telegram? You will stop receiving deals from your channels."))try{await R.delete("/integrations/telegram/disconnect"),n({connected:!1}),M([]),u(0),g(""),x(""),L("Telegram disconnected","success")}catch{L("Failed to disconnect","error")}},_e=async()=>{var s,z;F(!0);try{const $=await R.get("/integrations/telegram/channels/available");W($.data.channels||[]),E(!0)}catch($){L(((z=(s=$.response)==null?void 0:s.data)==null?void 0:z.detail)||"Failed to fetch channels","error")}finally{F(!1)}},ke=s=>{te(s),N({...b,supplierName:s.title||s.name||""})},he=async(s=null)=>{var $,O;const z=s||P;if(z)try{const we={channel_id:z.id,channel_name:z.name||z.title,channel_username:z.username,channel_type:z.type||"channel",create_supplier:b.createSupplier,supplier_name:b.supplierName||z.name||z.title,supplier_website:b.supplierWebsite||null,supplier_contact_email:b.supplierEmail||null,supplier_notes:b.supplierNotes||null},at=await R.post("/integrations/telegram/channels",we);L(`Added ${z.name}${at.data.supplier_id?" and created supplier":""}`,"success"),te(null),N({createSupplier:!0,supplierName:"",supplierWebsite:"",supplierEmail:"",supplierNotes:""}),ie(),ae(),W(nt=>nt.map(Le=>Le.id===z.id?{...Le,is_monitored:!0}:Le)),T&&E(!1)}catch(we){L(((O=($=we.response)==null?void 0:$.data)==null?void 0:O.detail)||"Failed to add channel","error")}},xe=async s=>{var z,$;J(O=>({...O,[s]:!0}));try{const O=await R.post(`/integrations/telegram/channels/${s}/backfill?days=14`);L(`Synced ${O.data.messages} messages, found ${O.data.deals} deals`,"success"),ie()}catch(O){L("Failed to sync: "+((($=(z=O.response)==null?void 0:z.data)==null?void 0:$.detail)||O.message),"error")}finally{J(O=>({...O,[s]:!1}))}},ge=async s=>{try{await R.delete(`/integrations/telegram/channels/${s}`),L("Channel removed","success"),ie(),ae()}catch{L("Failed to remove channel","error")}},c=async()=>{var s,z;try{const $=await R.post("/integrations/telegram/monitoring/start");L(`Monitoring ${$.data.channels} channels`,"success"),ae()}catch($){L(((z=(s=$.response)==null?void 0:s.data)==null?void 0:z.detail)||"Failed to start monitoring","error")}},B=async()=>{try{await R.post("/integrations/telegram/monitoring/stop"),L("Monitoring stopped","success"),ae()}catch{L("Failed to stop monitoring","error")}};return r?e.jsx(Y,{children:e.jsx(q,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ne,{})})}):e.jsx(Y,{children:e.jsxs(q,{children:[e.jsxs(y,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:2,children:[e.jsxs(y,{children:[e.jsxs(y,{display:"flex",alignItems:"center",gap:1,mb:1,children:[e.jsx(me,{size:20,style:{color:"#0088cc"}}),e.jsx(j,{variant:"h6",fontWeight:600,children:"Telegram Monitoring"}),e.jsx(re,{icon:a!=null&&a.connected?e.jsx(Re,{size:16}):void 0,label:a!=null&&a.connected?"Connected":"Not Connected",color:a!=null&&a.connected?"success":"default",size:"small"}),(a==null?void 0:a.monitoring)&&e.jsx(re,{label:"Monitoring",color:"primary",size:"small"})]}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Auto-extract deals from supplier channels"})]}),(a==null?void 0:a.connected)&&e.jsx(A,{variant:"outlined",color:"error",size:"small",startIcon:e.jsx(tt,{size:18}),onClick:Se,children:"Disconnect"})]}),!(a!=null&&a.connected)&&e.jsxs(y,{children:[e.jsx(Qt,{activeStep:d,sx:{mb:3},children:wa.map(s=>e.jsx(kt,{children:e.jsx(Ze,{children:s})},s))}),d===0&&e.jsxs(y,{children:[e.jsx(j,{variant:"body2",color:"text.secondary",mb:2,children:"Enter your phone number to connect your Telegram account. We'll send a verification code to your Telegram app."}),e.jsx(V,{label:"Phone Number",placeholder:"+1 234 567 8900",value:p,onChange:s=>g(s.target.value),fullWidth:!0,sx:{mb:2},helperText:"Include country code (e.g., +1 for US)"}),e.jsx(A,{variant:"contained",onClick:je,disabled:k,startIcon:k?e.jsx(ne,{size:16}):e.jsx(me,{size:18}),sx:{bgcolor:"#0088cc","&:hover":{bgcolor:"#006699"}},children:k?"Sending...":"Send Code"})]}),d===1&&e.jsxs(y,{children:[e.jsx(pe,{severity:"info",sx:{mb:2},children:"Check your Telegram app for the verification code"}),e.jsx(V,{label:"Verification Code",placeholder:"12345",value:m,onChange:s=>x(s.target.value.replace(/\D/g,"")),fullWidth:!0,autoFocus:!0,inputProps:{maxLength:5,inputMode:"numeric",pattern:"[0-9]*"},sx:{mb:2},helperText:"Enter the 5-digit code from Telegram"}),S&&e.jsx(V,{label:"2FA Password",type:"password",value:f,onChange:s=>w(s.target.value),fullWidth:!0,sx:{mb:2},helperText:"Your Telegram 2FA password"}),e.jsxs(y,{display:"flex",gap:1,children:[e.jsx(A,{variant:"outlined",onClick:()=>{u(0),x(""),l(!1)},children:"Back"}),e.jsx(A,{variant:"contained",onClick:Ce,disabled:k,startIcon:k?e.jsx(ne,{size:16}):e.jsx(Re,{size:18}),children:k?"Verifying...":"Verify"})]})]})]}),(a==null?void 0:a.connected)&&e.jsxs(y,{children:[e.jsx(y,{mb:2,children:e.jsx(ct,{label:"Monitored Channels",used:v.length,limit:(a==null?void 0:a.channel_limit)||ce("telegram_channels")})}),e.jsxs(y,{display:"flex",gap:1,mb:2,children:[a!=null&&a.monitoring?e.jsx(A,{variant:"outlined",color:"warning",startIcon:e.jsx(Ca,{size:18}),onClick:B,children:"Stop Monitoring"}):e.jsx(A,{variant:"contained",color:"success",startIcon:e.jsx(va,{size:18}),onClick:c,disabled:v.length===0,children:"Start Monitoring"}),e.jsx(A,{variant:"outlined",startIcon:U?e.jsx(ne,{size:16}):e.jsx(ft,{size:18}),onClick:_e,disabled:U||ue("telegram_channels",v.length),children:"Add Channel"})]}),(v||[]).length>0?e.jsx(Ne,{dense:!0,children:(v||[]).map(s=>e.jsxs(Ie,{children:[e.jsx(We,{children:e.jsx(me,{size:18,style:{color:t.palette.primary.main}})}),e.jsx(Fe,{primary:s.channel_name,secondary:e.jsxs(y,{display:"flex",gap:2,children:[e.jsxs("span",{children:[s.messages_received||0," messages"]}),e.jsxs("span",{children:[s.deals_extracted||0," deals"]})]}),secondaryTypographyProps:{component:"div"}}),e.jsx(dt,{children:e.jsxs(y,{display:"flex",gap:1,alignItems:"center",children:[e.jsx(De,{title:"Sync last 14 days of messages",children:e.jsx(A,{size:"small",variant:"outlined",onClick:()=>xe(s.channel_id),disabled:I[s.channel_id],startIcon:I[s.channel_id]?e.jsx(ne,{size:14}):e.jsx(ja,{size:14}),children:I[s.channel_id]?"Syncing...":"Sync 14 Days"})}),e.jsx(De,{title:"Remove channel",children:e.jsx(pt,{edge:"end",size:"small",onClick:()=>ge(s.channel_id),children:e.jsx(Sa,{size:18})})})]})})]},s.id))}):e.jsx(pe,{severity:"info",children:'No channels added yet. Click "Add Channel" to select channels to monitor.'}),(a==null?void 0:a.monitoring)&&e.jsxs(y,{mt:2,p:2,sx:{bgcolor:"rgba(255, 255, 255, 0.05)",borderRadius:2},children:[e.jsx(j,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Monitoring Active"}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Deals will be automatically extracted and appear in your feed."})]})]}),e.jsxs(Je,{open:T,onClose:()=>{E(!1),te(null),N({createSupplier:!0,supplierName:"",supplierWebsite:"",supplierEmail:"",supplierNotes:""})},maxWidth:"sm",fullWidth:!0,children:[e.jsx(Ke,{children:"Add Telegram Channel"}),e.jsx(Qe,{dividers:!0,children:(C||[]).length>0?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{children:(C||[]).map(s=>e.jsxs(Ie,{button:!0,selected:(P==null?void 0:P.id)===s.id,onClick:()=>ke(s),children:[e.jsx(We,{children:e.jsx(me,{size:20})}),e.jsx(Fe,{primary:s.name,secondary:`${s.type} â€¢ ${s.member_count||"?"} members`}),s.is_monitored&&e.jsx(re,{label:"Monitoring",size:"small",color:"success",sx:{ml:2}})]},s.id))}),P&&e.jsxs(e.Fragment,{children:[e.jsx(ut,{sx:{my:2}}),e.jsxs(y,{sx:{mb:2,p:2,bgcolor:"#252540",borderRadius:2},children:[e.jsxs(j,{variant:"subtitle2",color:"primary",children:["Selected: ",P.name||P.title]}),e.jsxs(j,{variant:"caption",color:"text.secondary",children:["@",P.username||"no-username"]})]}),e.jsx(ye,{control:e.jsx(yt,{checked:b.createSupplier,onChange:s=>N({...b,createSupplier:s.target.checked})}),label:"Create as Supplier"}),b.createSupplier&&e.jsxs(y,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[e.jsx(V,{label:"Supplier Name",value:b.supplierName,onChange:s=>N({...b,supplierName:s.target.value}),placeholder:(P==null?void 0:P.name)||(P==null?void 0:P.title)||"Supplier name",fullWidth:!0,size:"small"}),e.jsx(V,{label:"Website (optional)",value:b.supplierWebsite,onChange:s=>N({...b,supplierWebsite:s.target.value}),placeholder:"https://...",fullWidth:!0,size:"small"}),e.jsx(V,{label:"Contact Email (optional)",value:b.supplierEmail,onChange:s=>N({...b,supplierEmail:s.target.value}),placeholder:"contact@supplier.com",fullWidth:!0,size:"small"}),e.jsx(V,{label:"Notes (optional)",value:b.supplierNotes,onChange:s=>N({...b,supplierNotes:s.target.value}),placeholder:"Any notes about this supplier...",multiline:!0,rows:2,fullWidth:!0,size:"small"})]})]})]}):e.jsx(j,{color:"text.secondary",textAlign:"center",py:4,children:"No channels found. Make sure you're a member of some Telegram channels or groups."})}),e.jsxs(Xe,{children:[e.jsx(A,{onClick:()=>{E(!1),te(null),N({createSupplier:!0,supplierName:"",supplierWebsite:"",supplierEmail:"",supplierNotes:""})},children:"Cancel"}),e.jsx(A,{variant:"contained",onClick:()=>he(),disabled:!P||ue("telegram_channels",v.length),children:"Add Channel"})]})]})]})})},Wa=()=>{var he,xe,ge;const[t]=Ge(),a=t.get("tab"),n={profile:0,integrations:1,alerts:2,costs:3,billing:4},r=a&&n[a]!==void 0?n[a]:0,[i,d]=o.useState(r);o.useEffect(()=>{a&&n[a]!==void 0&&d(n[a])},[a,t]);const{profile:u,alertSettings:p,costSettings:g,loading:m,updateProfile:x,updateAlertSettings:f,updateCostSettings:w}=_a(),{showToast:S}=Ae(),{subscription:l,openPortal:k,cancelSubscription:h,reactivateSubscription:v}=ht(),M=xt(),[C,W]=o.useState([]),[T,E]=o.useState(null),[U,F]=o.useState(!1),[I,J]=o.useState(!1),[P,te]=o.useState({full_name:"",avatar_url:""}),[b,N]=o.useState({min_roi:20,min_profit:3,max_rank:1e5,alerts_enabled:!0,alert_min_roi:30,alert_channels:["push","email"]}),[L,ce]=o.useState({default_prep_cost:.5,default_inbound_shipping:.5});o.useEffect(()=>{u&&te({full_name:u.full_name||"",avatar_url:u.avatar_url||""})},[u]),o.useEffect(()=>{p&&N({min_roi:p.min_roi||20,min_profit:p.min_profit||3,max_rank:p.max_rank||1e5,alerts_enabled:p.alerts_enabled!==!1,alert_min_roi:p.alert_min_roi||30,alert_channels:p.alert_channels||["push","email"]})},[p]),o.useEffect(()=>{g&&ce({default_prep_cost:g.default_prep_cost||.5,default_inbound_shipping:g.default_inbound_shipping||.5})},[g]),o.useEffect(()=>{i===4&&(ue(),ae())},[i]);const ue=async()=>{try{const c=await R.get("/billing/invoices");W(c.data.invoices||[])}catch(c){console.error("Failed to fetch invoices:",c)}},ae=async()=>{try{const c=await R.get("/billing/usage");E(c.data)}catch(c){console.error("Failed to fetch usage:",c)}},ie=async()=>{J(!0);try{await h(!0),F(!1),S("Subscription will cancel at end of billing period","info")}catch{S("Failed to cancel subscription","error")}finally{J(!1)}},je=async()=>{J(!0);try{await v(),S("Subscription reactivated","success")}catch{S("Failed to reactivate subscription","error")}finally{J(!1)}},Ce=async()=>{J(!0);try{await k()}catch{S("Failed to open billing portal","error"),J(!1)}},Se=async()=>{try{await x(P),S("Profile updated successfully","success")}catch(c){S(c.message||"Failed to update profile","error")}},_e=async()=>{try{await f(b),S("Alert settings saved","success")}catch(c){S(c.message||"Failed to save alert settings","error")}},ke=async()=>{try{await w(L),S("Cost settings saved","success")}catch(c){S(c.message||"Failed to save cost settings","error")}};return m?e.jsx(y,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(ne,{})}):e.jsxs(y,{children:[e.jsx(j,{variant:"h4",fontWeight:700,mb:4,children:"Settings"}),e.jsxs(bt,{value:i,onChange:(c,B)=>d(B),sx:{mb:4},children:[e.jsx(de,{label:"Profile"}),e.jsx(de,{label:"Integrations"}),e.jsx(de,{label:"Alerts"}),e.jsx(de,{label:"Costs"}),e.jsx(de,{label:"Billing"})]}),i===0&&e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(j,{variant:"h6",fontWeight:600,mb:3,children:"Profile Settings"}),e.jsxs(y,{display:"flex",flexDirection:"column",gap:3,children:[e.jsx(V,{label:"Full Name",value:P.full_name,onChange:c=>te({...P,full_name:c.target.value}),fullWidth:!0}),e.jsx(V,{label:"Avatar URL",value:P.avatar_url,onChange:c=>te({...P,avatar_url:c.target.value}),fullWidth:!0,placeholder:"https://..."}),e.jsx(A,{variant:"contained",onClick:Se,sx:{backgroundColor:H.purple.main,"&:hover":{backgroundColor:H.purple.dark},alignSelf:"flex-start"},children:"Save Profile"})]})]})}),i===1&&e.jsxs(y,{display:"flex",flexDirection:"column",gap:2,children:[e.jsx(ka,{}),e.jsx(La,{})]}),i===2&&e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(j,{variant:"h6",fontWeight:600,mb:3,children:"Alert Settings"}),e.jsxs(y,{display:"flex",flexDirection:"column",gap:3,children:[e.jsxs(y,{children:[e.jsx(j,{variant:"body2",color:"text.secondary",mb:1,children:"Minimum ROI for alerts"}),e.jsx(Ee,{value:b.alert_min_roi,onChange:(c,B)=>N({...b,alert_min_roi:B}),min:0,max:100,valueLabelDisplay:"auto",valueLabelFormat:c=>`${c}%`})]}),e.jsxs(y,{children:[e.jsx(j,{variant:"body2",color:"text.secondary",mb:1,children:"Minimum ROI to consider profitable"}),e.jsx(Ee,{value:b.min_roi,onChange:(c,B)=>N({...b,min_roi:B}),min:0,max:100,valueLabelDisplay:"auto",valueLabelFormat:c=>`${c}%`})]}),e.jsx(V,{label:"Minimum profit per unit",type:"number",value:b.min_profit,onChange:c=>N({...b,min_profit:parseFloat(c.target.value)||0}),InputProps:{startAdornment:"$"},fullWidth:!0}),e.jsx(V,{label:"Maximum sales rank",type:"number",value:b.max_rank,onChange:c=>N({...b,max_rank:parseInt(c.target.value)||0}),fullWidth:!0}),e.jsx(ye,{control:e.jsx(ze,{checked:b.alerts_enabled,onChange:c=>N({...b,alerts_enabled:c.target.checked})}),label:"Enable alerts"}),e.jsxs(y,{children:[e.jsx(j,{variant:"body2",color:"text.secondary",mb:1,children:"Notification Channels"}),e.jsx(ye,{control:e.jsx(ze,{checked:(he=b.alert_channels)==null?void 0:he.includes("push"),onChange:c=>{const B=b.alert_channels||[];c.target.checked?N({...b,alert_channels:[...B,"push"]}):N({...b,alert_channels:B.filter(s=>s!=="push")})}}),label:"Push notifications"}),e.jsx(ye,{control:e.jsx(ze,{checked:(xe=b.alert_channels)==null?void 0:xe.includes("email"),onChange:c=>{const B=b.alert_channels||[];c.target.checked?N({...b,alert_channels:[...B,"email"]}):N({...b,alert_channels:B.filter(s=>s!=="email")})}}),label:"Email alerts"})]}),e.jsx(A,{variant:"contained",onClick:_e,sx:{backgroundColor:H.purple.main,"&:hover":{backgroundColor:H.purple.dark},alignSelf:"flex-start"},children:"Save Settings"})]})]})}),i===3&&e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(j,{variant:"h6",fontWeight:600,mb:3,children:"Cost Settings"}),e.jsxs(y,{display:"flex",flexDirection:"column",gap:3,children:[e.jsx(V,{label:"Default Prep Cost",type:"number",value:L.default_prep_cost,onChange:c=>ce({...L,default_prep_cost:parseFloat(c.target.value)||0}),InputProps:{startAdornment:"$"},fullWidth:!0,helperText:"Default cost per unit for prep/packaging"}),e.jsx(V,{label:"Default Inbound Shipping",type:"number",value:L.default_inbound_shipping,onChange:c=>ce({...L,default_inbound_shipping:parseFloat(c.target.value)||0}),InputProps:{startAdornment:"$"},fullWidth:!0,helperText:"Default cost per unit for inbound shipping to Amazon"}),e.jsx(A,{variant:"contained",onClick:ke,sx:{backgroundColor:H.purple.main,"&:hover":{backgroundColor:H.purple.dark},alignSelf:"flex-start"},children:"Save Cost Settings"})]})]})}),i===4&&e.jsxs(y,{display:"flex",flexDirection:"column",gap:3,children:[e.jsx(Y,{children:e.jsxs(q,{children:[e.jsxs(y,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[e.jsxs(y,{children:[e.jsx(j,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Current Plan"}),e.jsxs(y,{display:"flex",alignItems:"center",gap:1,mb:1,children:[e.jsx(re,{label:((ge=l==null?void 0:l.tier)==null?void 0:ge.toUpperCase())||"FREE",color:(l==null?void 0:l.tier)==="free"?"default":"primary",sx:{fontWeight:600}}),(l==null?void 0:l.cancel_at_period_end)&&e.jsx(re,{label:"Cancels at period end",color:"warning",size:"small"})]}),(l==null?void 0:l.current_period_end)&&e.jsxs(j,{variant:"body2",color:"text.secondary",children:["Renews: ",new Date(l.current_period_end).toLocaleDateString()]})]}),e.jsxs(y,{display:"flex",gap:1,children:[l!=null&&l.cancel_at_period_end?e.jsx(A,{variant:"outlined",onClick:je,disabled:I,children:"Reactivate"}):(l==null?void 0:l.tier)!=="free"?e.jsx(A,{variant:"outlined",color:"error",onClick:()=>F(!0),disabled:I,children:"Cancel"}):null,e.jsx(A,{variant:"contained",onClick:()=>M("/pricing"),sx:{backgroundColor:H.purple.main,"&:hover":{backgroundColor:H.purple.dark}},children:(l==null?void 0:l.tier)==="free"?"Upgrade":"Change Plan"})]})]}),(l==null?void 0:l.tier)!=="free"&&e.jsx(A,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(ba,{size:18}),onClick:Ce,disabled:I,sx:{mt:2},children:"Manage Billing & Payment Methods"})]})}),T&&e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(j,{variant:"h6",fontWeight:600,mb:2,children:"Usage This Period"}),e.jsxs(y,{mb:2,children:[e.jsxs(y,{display:"flex",justifyContent:"space-between",mb:1,children:[e.jsx(j,{variant:"body2",color:"text.secondary",children:"Analyses"}),e.jsxs(j,{variant:"body2",fontWeight:600,children:[T.analyses.used," / ",T.analyses.unlimited?"âˆž":T.analyses.limit]})]}),!T.analyses.unlimited&&e.jsx(gt,{variant:"determinate",value:Math.min(T.analyses.used/T.analyses.limit*100,100),sx:{height:8,borderRadius:4,backgroundColor:H.gray[200],"& .MuiLinearProgress-bar":{backgroundColor:T.analyses.used>=T.analyses.limit*.9?H.error.main:H.purple.main}}})]})]})}),e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(j,{variant:"h6",fontWeight:600,mb:2,children:"Invoice History"}),C.length===0?e.jsx(j,{variant:"body2",color:"text.secondary",children:"No invoices yet"}):e.jsx(aa,{size:"small",children:e.jsx(ia,{children:C.map(c=>e.jsxs(ya,{children:[e.jsx(fe,{children:e.jsx(j,{variant:"body2",fontWeight:600,children:new Date(c.created_at).toLocaleDateString()})}),e.jsx(fe,{children:e.jsx(j,{variant:"body2",color:"text.secondary",children:mt((c.amount_paid||c.amount_due||0)/100)})}),e.jsx(fe,{children:e.jsx(re,{label:c.status,size:"small",color:c.status==="paid"?"success":"default"})}),e.jsx(fe,{align:"right",children:c.stripe_invoice_url&&e.jsx(A,{size:"small",startIcon:e.jsx(vt,{size:14}),href:c.stripe_invoice_url,target:"_blank",children:"View"})})]},c.id))})})]})}),e.jsxs(Je,{open:U,onClose:()=>F(!1),children:[e.jsx(Ke,{children:"Cancel Subscription?"}),e.jsxs(Qe,{children:[e.jsx(pe,{severity:"warning",sx:{mb:2},children:"Your subscription will remain active until the end of your current billing period. You'll continue to have access to all features until then."}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"After cancellation, you'll be moved to the Free plan. You can reactivate anytime."})]}),e.jsxs(Xe,{children:[e.jsx(A,{onClick:()=>F(!1),children:"Keep Subscription"}),e.jsx(A,{onClick:ie,color:"error",variant:"contained",disabled:I,children:I?"Canceling...":"Cancel Subscription"})]})]})]})]})};export{Wa as default};
