import{r as a,m as w,i as E,u as k,ap as W,j as e,B as P,C as D,b as _,T as s,q as o,a as q}from"./index-DDnPEUpM.js";import{L as B}from"./Link-d5Gcg88l.js";const K=()=>{const[n,y]=a.useState(""),[l,b]=a.useState(""),[i,f]=a.useState(""),[c,u]=a.useState(""),[d,h]=a.useState(!1),{signUp:C}=w(),{createCheckout:v}=E(),m=k(),[x]=W(),g=x.get("trial"),r=x.get("plan"),j=async t=>{t.preventDefault(),u(""),h(!0);try{if(await C(n,l,i),g==="true"||r){const F=r&&{starter:"starter_monthly",pro:"pro_monthly",agency:"agency_monthly"}[r]||"starter_monthly",S=g==="true"||!r;try{await v(F,S)}catch(A){console.error("Checkout error:",A),m("/dashboard")}}else m("/dashboard")}catch(p){u(p.message||"Failed to create account")}finally{h(!1)}};return e.jsx(P,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F9FAFB"},children:e.jsx(D,{sx:{width:"100%",maxWidth:400},children:e.jsxs(_,{sx:{p:4},children:[e.jsx(s,{variant:"h4",fontWeight:700,mb:1,textAlign:"center",color:"#1A1A4E",children:"Habexa"}),e.jsx(s,{variant:"body2",color:"text.secondary",mb:4,textAlign:"center",children:"Create your account"}),c&&e.jsx(s,{color:"error",variant:"body2",mb:2,children:c}),e.jsxs("form",{onSubmit:j,children:[e.jsx(o,{fullWidth:!0,label:"Full Name",value:i,onChange:t=>f(t.target.value),required:!0,sx:{mb:2}}),e.jsx(o,{fullWidth:!0,label:"Email",type:"email",value:n,onChange:t=>y(t.target.value),required:!0,sx:{mb:2}}),e.jsx(o,{fullWidth:!0,label:"Password",type:"password",autoComplete:"new-password",value:l,onChange:t=>b(t.target.value),required:!0,sx:{mb:3}}),e.jsx(q,{type:"submit",fullWidth:!0,variant:"contained",disabled:d,sx:{backgroundColor:"#7C3AED",color:"#FFFFFF","&:hover":{backgroundColor:"#6D28D9"},mb:2},children:d?"Creating account...":"Sign Up"})]}),e.jsxs(s,{variant:"body2",textAlign:"center",children:["Already have an account?"," ",e.jsx(B,{href:"/login",sx:{color:"#7C3AED",fontWeight:600},children:"Sign in"})]})]})})})};export{K as default};
